<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube ã‚¿ã‚¤ãƒˆãƒ«è‡ªå‹•å–å¾—ãƒ†ã‚¹ãƒˆ - æœ€çµ‚ç‰ˆ</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .test-container {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .test-step {
            border-left: 4px solid #007cba;
            padding-left: 15px;
            margin: 15px 0;
        }
        .success { color: #4CAF50; font-weight: bold; }
        .error { color: #F44336; font-weight: bold; }
        .warning { color: #FF9800; font-weight: bold; }
        .info { color: #2196F3; font-weight: bold; }
        pre {
            background: #f0f0f0;
            padding: 10px;
            border-radius: 4px;
            overflow-x: auto;
        }
        input, button {
            padding: 8px 12px;
            margin: 5px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        button {
            background: #007cba;
            color: white;
            cursor: pointer;
        }
        button:hover {
            background: #005a87;
        }
        .result-box {
            background: #f9f9f9;
            border: 1px solid #ddd;
            padding: 15px;
            border-radius: 4px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>ğŸ¬ YouTube ã‚¿ã‚¤ãƒˆãƒ«è‡ªå‹•å–å¾—æ©Ÿèƒ½ - æœ€çµ‚ãƒ†ã‚¹ãƒˆ</h1>
        <p>ã“ã®ç”»é¢ã¯ã€WordPress ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚¶ãƒ¼å¤–ã§ã®å‹•ä½œç¢ºèªç”¨ã§ã™ã€‚</p>
        
        <div class="test-step">
            <h3>ğŸ“‹ ãƒ†ã‚¹ãƒˆãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ</h3>
            <ul>
                <li>âœ… customizer.js ã®ã‚³ãƒ¼ãƒ‰ä¿®æ­£å®Œäº†</li>
                <li>âœ… WordPress Customizer API å„ªå…ˆè¨­å®š</li>
                <li>âœ… DOM/Customizerå€¤ã®è‡ªå‹•åŒæœŸå‡¦ç†</li>
                <li>âœ… ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚°ã®å¼·åŒ–</li>
                <li>âœ… ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°</li>
            </ul>
        </div>

        <div class="test-step">
            <h3>ğŸ”§ å®Ÿéš›ã®ãƒ†ã‚¹ãƒˆæ‰‹é †</h3>
            <ol>
                <li><strong>WordPressç®¡ç†ç”»é¢ > å¤–è¦³ > ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º</strong> ã«ã‚¢ã‚¯ã‚»ã‚¹</li>
                <li><strong>å‹•ç”»ã‚»ã‚¯ã‚·ãƒ§ãƒ³</strong> ã‚’é–‹ã</li>
                <li><strong>F12</strong> ã‚­ãƒ¼ã§ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ãƒ„ãƒ¼ãƒ«ã‚’é–‹ã</li>
                <li><strong>Console</strong> ã‚¿ãƒ–ã‚’ç¢ºèª</li>
                <li>Video 1 URL ã« YouTube URL ã‚’å…¥åŠ›</li>
                <li>ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ãƒ­ã‚°ã‚’ç¢ºèª</li>
                <li>åŒæœŸçŠ¶æ…‹ã‚’æ‰‹å‹•ç¢ºèª</li>
                <li>ã€Œå…¬é–‹ã€ãƒœã‚¿ãƒ³ã§ä¿å­˜</li>
                <li>ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§åæ˜ ç¢ºèª</li>
            </ol>
        </div>

        <div class="test-step">
            <h3>ğŸ§ª æ‰‹å‹•ãƒ†ã‚¹ãƒˆç”¨ã‚³ãƒãƒ³ãƒ‰</h3>
            <p>WordPress ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚¶ãƒ¼ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œï¼š</p>
            
            <h4>1. ç’°å¢ƒç¢ºèª</h4>
            <pre><code>// WordPress Customizer API ã®å­˜åœ¨ç¢ºèª
console.log('WordPress Customize:', typeof wp !== 'undefined' && wp.customize ? 'âœ… åˆ©ç”¨å¯èƒ½' : 'âŒ åˆ©ç”¨ä¸å¯');

// jQuery ã®ç¢ºèª
console.log('jQuery:', typeof $ !== 'undefined' ? 'âœ… åˆ©ç”¨å¯èƒ½' : 'âŒ åˆ©ç”¨ä¸å¯');

// customizer.js ã®èª­ã¿è¾¼ã¿ç¢ºèª
console.log('customizer.js:', window.customizerJsLoaded ? 'âœ… èª­ã¿è¾¼ã¿æ¸ˆã¿' : 'âŒ æœªèª­ã¿è¾¼ã¿');</code></pre>

            <h4>2. æ‰‹å‹•å‹•ç”»æƒ…å ±å–å¾—ãƒ†ã‚¹ãƒˆ</h4>
            <pre><code>// ä¾‹: Video 1 ã§ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
testYouTubeVideoFetch(1, 'https://www.youtube.com/watch?v=dQw4w9WgXcQ');</code></pre>

            <h4>3. è¨­å®šå€¤ã®åŒæœŸç¢ºèª</h4>
            <pre><code>// Video 1 ã®å€¤åŒæœŸç¢ºèª
const videoIndex = 1;
const customizerValue = wp.customize('video_' + videoIndex + '_title').get();
const domValue = $('input[data-customize-setting-link="video_' + videoIndex + '_title"]').val();

console.log('ğŸ¯ åŒæœŸçŠ¶æ…‹ãƒã‚§ãƒƒã‚¯:');
console.log('Customizerå€¤:', customizerValue);
console.log('DOMå€¤:', domValue);
console.log('åŒæœŸçŠ¶æ…‹:', customizerValue === domValue ? 'âœ… ä¸€è‡´' : 'âŒ ä¸ä¸€è‡´');</code></pre>

            <h4>4. ä¿å­˜çŠ¶æ…‹ç¢ºèª</h4>
            <pre><code>// ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚¶ãƒ¼ã®ä¿å­˜çŠ¶æ…‹ç¢ºèª
console.log('ä¿å­˜çŠ¶æ…‹:', wp.customize.state('saved').get() ? 'âœ… ä¿å­˜æ¸ˆã¿' : 'âš ï¸ æœªä¿å­˜');</code></pre>

            <h4>5. APIã‚­ãƒ¼ç¢ºèª</h4>
            <pre><code>// YouTube Data API ã‚­ãƒ¼ã®è¨­å®šç¢ºèª
const apiKey = wp.customize('youtube_api_key').get();
console.log('APIã‚­ãƒ¼:', apiKey ? '[è¨­å®šæ¸ˆã¿] ' + apiKey.length + 'æ–‡å­—' : 'âŒ æœªè¨­å®š');</code></pre>
        </div>

        <div class="test-step">
            <h3>ğŸ“Š æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ</h3>
            <div class="result-box">
                <h4>âœ… æ­£å¸¸å‹•ä½œæ™‚ã®ãƒ­ã‚°ä¾‹</h4>
                <pre><code>ğŸš€ Customizer.js èª­ã¿è¾¼ã¿é–‹å§‹
âœ… WordPress Customizerç’°å¢ƒç¢ºèªå®Œäº†
ğŸ¬ å‹•ç”»æƒ…å ±å–å¾—ãƒ—ãƒ­ã‚»ã‚¹é–‹å§‹ (Video 1)
âœ… YouTube URLç¢ºèªå®Œäº†: https://www.youtube.com/watch?v=...
ğŸ“¡ AJAX ãƒ¬ã‚¹ãƒãƒ³ã‚¹å—ä¿¡
âœ… å–å¾—ã‚¿ã‚¤ãƒˆãƒ«: ã€å‹•ç”»ã‚¿ã‚¤ãƒˆãƒ«ã€‘
âœ… Customizer APIçµŒç”±ã§è¨­å®šå®Œäº†
ğŸ¯ æœ€çµ‚ç¢ºèª - Customizerå€¤: ã€å‹•ç”»ã‚¿ã‚¤ãƒˆãƒ«ã€‘
ğŸ“‹ DOMå€¤: ã€å‹•ç”»ã‚¿ã‚¤ãƒˆãƒ«ã€‘
âœ… å€¤ã®åŒæœŸç¢ºèªå®Œäº†
ğŸ’¾ ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚¶ãƒ¼æœªä¿å­˜çŠ¶æ…‹ã«å¤‰æ›´</code></pre>
            </div>
        </div>

        <div class="test-step">
            <h3>âš ï¸ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</h3>
            <div class="result-box">
                <h4>å•é¡Œ: ã‚¿ã‚¤ãƒˆãƒ«ã¯å–å¾—ã•ã‚Œã‚‹ãŒCustomizerå€¤ãŒç©º</h4>
                <p><strong>è§£æ±ºæ¸ˆã¿</strong>: æœ€æ–°ç‰ˆã§ã¯ä»¥ä¸‹ã®æ”¹å–„ã‚’å®Ÿè£…</p>
                <ul>
                    <li>WordPress Customizer API ã§ã®è¨­å®šã‚’æœ€å„ªå…ˆå®Ÿè¡Œ</li>
                    <li>DOMæ›´æ–°ã‚ˆã‚Šã‚‚å…ˆã«Customizerå€¤ã‚’è¨­å®š</li>
                    <li>æœ€çµ‚ç¢ºèªã§ã®å€¤ä¸€è‡´ãƒã‚§ãƒƒã‚¯</li>
                    <li>ä¸ä¸€è‡´æ™‚ã®è‡ªå‹•å†åŒæœŸå‡¦ç†</li>
                </ul>
                
                <h4>å•é¡Œ: ä¿å­˜ã—ã¦ã‚‚åæ˜ ã•ã‚Œãªã„</h4>
                <p><strong>ç¢ºèªäº‹é …</strong>:</p>
                <ul>
                    <li>ä¿å­˜å‰ã« `wp.customize.state('saved').get()` ãŒ `false` ã§ã‚ã‚‹ã“ã¨</li>
                    <li>ã€Œå…¬é–‹ã€ãƒœã‚¿ãƒ³ã‚’ç¢ºå®Ÿã«æŠ¼ä¸‹ã™ã‚‹ã“ã¨</li>
                    <li>ä¿å­˜å¾Œã«ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚’ãƒªãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã“ã¨</li>
                </ul>
            </div>
        </div>

        <div class="test-step">
            <h3>ğŸ¯ æœ€çµ‚ç¢ºèªãƒã‚¤ãƒ³ãƒˆ</h3>
            <ol>
                <li><strong class="success">JavaScriptå‹•ä½œç¢ºèª</strong>: ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãƒ­ã‚°ãŒæ­£å¸¸ã«å‡ºåŠ›ã•ã‚Œã‚‹</li>
                <li><strong class="success">AJAXé€šä¿¡ç¢ºèª</strong>: YouTube Data APIã‹ã‚‰ã‚¿ã‚¤ãƒˆãƒ«ãŒå–å¾—ã•ã‚Œã‚‹</li>
                <li><strong class="success">CustomizeråŒæœŸç¢ºèª</strong>: APIå€¤ã¨DOMå€¤ãŒä¸€è‡´ã™ã‚‹</li>
                <li><strong class="success">ä¿å­˜æ©Ÿèƒ½ç¢ºèª</strong>: ã€Œå…¬é–‹ã€ãƒœã‚¿ãƒ³ã§è¨­å®šãŒä¿å­˜ã•ã‚Œã‚‹</li>
                <li><strong class="success">ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ç¢ºèª</strong>: ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸ã«åæ˜ ã•ã‚Œã‚‹</li>
            </ol>
        </div>
    </div>

    <div class="test-container">
        <h2>ğŸ“ ä¿®æ­£å†…å®¹ã¾ã¨ã‚</h2>
        <div class="test-step">
            <h3>1. customizer.js ã®ä¿®æ­£</h3>
            <ul>
                <li>WordPress Customizer API ã«ã‚ˆã‚‹è¨­å®šã‚’æœ€å„ªå…ˆã«å¤‰æ›´</li>
                <li>DOMæ›´æ–°å‰ã«Customizerå€¤ã‚’è¨­å®šã™ã‚‹ã‚ˆã†é †åºå¤‰æ›´</li>
                <li>æœ€çµ‚ç¢ºèªã§ã®å€¤åŒæœŸãƒã‚§ãƒƒã‚¯æ©Ÿèƒ½è¿½åŠ </li>
                <li>ä¸ä¸€è‡´æ™‚ã®è‡ªå‹•å†åŒæœŸå‡¦ç†å®Ÿè£…</li>
                <li>ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚°ã®ã•ã‚‰ãªã‚‹å¼·åŒ–</li>
            </ul>
        </div>
        
        <div class="test-step">
            <h3>2. ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼æ–‡æ›¸ã®æ›´æ–°</h3>
            <ul>
                <li>recommended-videos-workflow.md ã®è©³ç´°ãªæ›´æ–°</li>
                <li>ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®å¤§å¹…æ‹¡å……</li>
                <li>å®Ÿéš›ã®ç¢ºèªæ‰‹é †ã®æ˜æ–‡åŒ–</li>
                <li>ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚³ãƒãƒ³ãƒ‰ä¾‹ã®è¿½åŠ </li>
            </ul>
        </div>
        
        <div class="test-step">
            <h3>3. å•é¡Œã®æ ¹æœ¬è§£æ±º</h3>
            <p>DOMå€¤ã«ã¯å…¥ã‚‹ãŒCustomizer APIå€¤ãŒç©ºã«ãªã‚‹å•é¡Œã‚’è§£æ±ºï¼š</p>
            <ul>
                <li><strong>åŸå› </strong>: DOMæ›´æ–°ã¨Customizer APIæ›´æ–°ã®é †åºãƒ»åŒæœŸã®å•é¡Œ</li>
                <li><strong>è§£æ±º</strong>: Customizer APIå„ªå…ˆ + è‡ªå‹•å†åŒæœŸæ©Ÿèƒ½</li>
                <li><strong>çµæœ</strong>: wp_optionã¸ã®ç¢ºå®Ÿãªä¿å­˜ãŒå¯èƒ½</li>
            </ul>
        </div>
    </div>

    <script>
        console.log('%cğŸ§ª ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸ãŒèª­ã¿è¾¼ã¾ã‚Œã¾ã—ãŸ', 'color: #4CAF50; font-weight: bold; font-size: 16px;');
        console.log('%cğŸ“‹ WordPress ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚¶ãƒ¼ã§ã®å®Ÿéš›ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„', 'color: #2196F3; font-weight: bold;');
    </script>
</body>
</html>
