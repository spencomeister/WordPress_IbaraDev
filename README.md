# IbaraDev VTuber Landing Page Theme

WordPressテーマ「IbaraDev VTuber Landing Page」は、VTuberやコンテンツクリエイター向けに設計された、モダンで機能豊富なランディングページテーマです。

## 🌟 主要機能

### YouTube Data API連携
- **自動タイトル取得**: YouTube URLを入力するだけで動画タイトルを自動取得
- **サムネイル表示**: 動画のサムネイル画像を自動表示
- **チャンネル情報**: チャンネル名の自動取得・表示
- **リアルタイムプレビュー**: カスタマイザーでの変更を即座にプレビューに反映

### レスポンシブデザイン
- **モバイルファースト**: スマートフォンからデスクトップまで完全対応
- **ハンバーガーメニュー**: モバイル環境での使いやすいナビゲーション
- **フレキシブルレイアウト**: コンテンツに応じて自動調整されるレイアウト

### コンテンツ管理
- **ニュースセクション**: ブログ投稿の管理・表示
- **実績ページ**: 活動実績の専用ページ
- **動的プロフィールテーブル**: カスタマイザーでプロフィール項目を自由に編集
- **カスタムフィールド**: 豊富なカスタマイズオプション

### 開発・デバッグ機能
- **デバッグログ制御**: 3段階レベル（minimal/basic/verbose）
- **本番環境対応**: セキュリティを考慮したログ無効化機能
- **カスタマイザー連携**: 管理画面からの簡単設定

## 🚀 クイックスタート

### 1. テーマのインストール
1. WordPress管理画面の「外観」→「テーマ」
2. テーマファイルをアップロード
3. テーマを有効化

### 2. YouTube Data API設定
1. [Google Cloud Console](https://console.cloud.google.com/) でAPIキーを取得
2. 「外観」→「カスタマイザー」→「動画セクション」
3. APIキーを入力・保存

### 3. コンテンツ設定
1. カスタマイザーで基本情報を設定
2. YouTube URLを入力（タイトルが自動取得されます）
3. 「公開」ボタンで設定を保存

## 📁 ファイル構成

```
WordPress_IbaraDev/
├── style.css              # メインスタイルシート
├── functions.php          # テーマ機能・API連携
├── index.php              # メインテンプレート
├── front-page.php         # ランディングページ
├── header.php             # ヘッダーテンプレート
├── footer.php             # フッターテンプレート
├── single.php             # 単一投稿テンプレート
├── page.php               # 固定ページテンプレート
├── home.php               # ブログホームページ
├── search.php             # 検索結果テンプレート
├── 404.php                # 404エラーページ
├── js/
│   ├── main.js            # メインJavaScript
│   └── customizer.js      # カスタマイザー連携
└── images/                # テーマ画像ファイル
```

## ⚙️ システム要件

- **WordPress**: 5.0 以上
- **PHP**: 7.4 以上
- **jQuery**: WordPress標準版
- **YouTube Data API v3**: 必須（動画機能使用時）

## 🛠️ カスタマイゼーション

### カスタマイザー設定項目

#### サイト基本情報
- サイトタイトル・キャッチフレーズ
- ロゴ画像・ファビコン
- 連絡先情報

#### 自己紹介セクション
- **動的プロフィールテーブル**: 項目名と値を自由に追加・編集・削除
- プロフィール画像の設定
- セクション表示/非表示設定

#### 動画セクション
- YouTube Data API キー
- おすすめ動画（3本）のURL・タイトル・説明文
- セクション表示/非表示設定

#### モバイルサイドバー設定
- 背景画像の選択・アップロード
- 背景画像の位置調整（center center、top left等）
- 背景画像のサイズ設定（cover、contain等）

#### 開発者設定
- **デバッグログ有効/無効**: 本番環境では無効化推奨
- **ログレベル選択**: minimal（最小）/ basic（基本）/ verbose（詳細）
- セキュリティとパフォーマンスを考慮した設定

#### デザイン設定
- カラースキーム
- フォント設定
- レイアウトオプション

### CSS カスタマイズ

カスタムCSSは「外観」→「カスタマイザー」→「追加CSS」から追加できます。

```css
/* カスタムスタイルの例 */
.custom-section {
    background-color: #f8f9fa;
    padding: 2rem;
    border-radius: 8px;
}
```

## 🔧 開発・デバッグ

### デバッグモード

URLに `?debug=true` を追加すると詳細なログが出力されます：

```
/wp-admin/customize.php?debug=true
```

### よくある問題と解決方法

#### YouTube タイトルが取得できない
- APIキーが正しく設定されているか確認
- APIクォータの残量を確認
- URLが有効なYouTube URLか確認

#### レスポンシブデザインが正しく表示されない
- ブラウザキャッシュをクリア
- CSS の構文エラーを確認

## 📝 更新履歴

### Version 2.1.0 (2025年7月23日)
- **🔧 プロフィールテーブル動的管理**: カスタマイザーでプロフィール項目を自由に追加・編集・削除可能
- **📊 デバッグログ制御システム**: 本番環境でのセキュリティを考慮したデバッグ機能
  - 3段階ログレベル（minimal/basic/verbose）
  - カスタマイザーでの有効/無効切り替え
  - 本番環境では脆弱性回避のためログ無効化推奨
- **📱 モバイルサイドバー改善**: メニューリンクの位置調整で使いやすさ向上
- **🐛 PCスクロール問題修正**: ヘッダークリック後のマウスホイール操作を正常化
- **🎨 サイドバー背景カスタマイズ**: カスタマイザーで背景画像・位置・サイズを設定可能
- **📱 Profile_Table_Repeater_Control**: 実績管理と同様のリピーター形式UI
- **🔒 セキュリティ強化**: サニタイゼーション関数とデータ検証の追加

### Version 2.0.1 (2025年7月17日)
- **パフォーマンス向上**: すべての画像を PNG から AVIF 形式に変更
- **ローディング画面追加**: ページ遷移時の美しいローディング画面を実装
- ファイルサイズ削減による読み込み速度向上
- 透明度対応によるデザイン品質維持
- ダークテーマ/ライトテーマ対応のローディング画面
- カスタマイザーでローディング画面の有効/無効と表示時間を設定可能
- Customizer の説明文に AVIF 推奨の記載追加

### Version 2.0.0 (2025年7月17日)
- YouTube Data API連携機能の完全実装
- 自動タイトル取得・同期システムの追加
- レスポンシブデザインの改善
- コードベースの大幅リファクタリング
- デバッグ機能の強化
- テスト用コードの削除と最適化

### Version 1.0.0
- 初回リリース
- 基本的なランディングページ機能
- カスタマイザー連携

## 🤝 サポート・コントリビューション

### バグレポート
バグを発見した場合は、以下の情報と共にご報告ください：
- WordPress バージョン
- 使用ブラウザ・バージョン
- エラーメッセージ（あれば）
- 再現手順

### 機能リクエスト
新機能のご提案も歓迎します。実装の可能性と優先度を検討いたします。

## 📄 ライセンス

GPL v2 License - WordPress テーマ標準ライセンス

## 👨‍💻 開発者情報

**テーマ名**: IbaraDev VTuber Landing Page  
**バージョン**: 2.1.0  
**開発**: Marusawa Kenta  
**最終更新**: 2025年7月23日

---

**設定方法やトラブルシューティングの詳細は `WORKFLOW.md` をご確認ください。**

### AVIF画像フォールバック機能 🖼️
- **次世代画像形式**: AVIF形式の画像を使用してファイルサイズを大幅削減
- **自動フォールバック**: AVIF非対応ブラウザ・デバイスでは自動的にPNG画像に切り替え
- **Picture要素サポート**: モダンブラウザでのネイティブフォールバック機能を活用
- **スマートフォン対応**: 古いAndroid/iOSデバイスでの互換性を確保
- **パフォーマンス最適化**: 画像読み込み完了を検出してスムーズなフェードイン効果
- **ブラウザ検出**: User-Agent解析とJavaScriptによる二段階のAVIFサポート検出

### 対応画像ファイル
- ロゴ画像（ライト/ダークモード対応）
- キービジュアル画像
- アバウトセクション画像
- その他テーマ内の全ての静的画像